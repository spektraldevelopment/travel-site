!function(a){"use strict";var b={},c=!1;b.ping=function(){return"Spektral: Hello!"},b.debugMode=function(){return c},b.debug=function(){c=!0},b.query=function(a){var c,d=b.detectCharacter(a,".");return d===!0?(c=document.querySelectorAll(a),1===c.length&&(c=c[0])):c=document.querySelector(a),null===c&&b.log("query: element not found.","warn"),c},b.addElement=function(a,c,d){var e,f,g,h=document.createElement(c);for(e in d)f=b.hasPattern(e,"data"),"className"===e?h.className=d[e]:"innerHTML"===e?h.innerHTML=d[e]:f.match===!0?(g=b.stripString(e,"data").toLowerCase(),h.setAttribute("data-"+g,d[e])):h.setAttribute(e,d[e]);return a.appendChild(h),h},b.removeElement=function(a){try{a.remove()}catch(b){a.parentNode.removeChild(a)}},b.setAttributes=function(a,c){var d,e,f;for(d in c)e=b.hasPattern(d,"data"),"className"===d?a.setAttribute("class",c[d]):e.match===!0?(f=b.stripString(d,"data").toLowerCase(),a.setAttribute("data-"+f,c[d])):a.setAttribute(d,c[d])},b.getAttributes=function(a){var b,c=a.attributes,d={};if(c.length>=1)for(b=0;b<c.length;b+=1)"class"===c.item(b).nodeName?d.className=c.item(b).value:d[c.item(b).nodeName]=c.item(b).value;return d},b.destroyAttribute=function(a,c){a.hasAttribute(c)?a.removeAttribute(c):b.log("destroyAttribute: element does not have attribute "+c+" set.","warn")},b.moveToAfter=function(a,b){a.parentNode.insertBefore(a,b.nextSibling)},b.moveToBefore=function(a,b){a.parentNode.insertBefore(a,b)},b.clearChildren=function(a){a.innerHTML=""},b.getInnerText=function(a){var b=a.textContent;return void 0===b&&(b=a.innerText),b},b.setInnerText=function(a,c,d){var e,f=b.getInnerText(a),g=b.getParameter(d,"append",!1);g===!0?(e=f+c,a.innerHTML=e):a.innerHTML=c},b.isElement=function(a){var b=!1,c=a.nodeType;return 1===c&&(b=!0),b},b.getChildNodes=function(a){var c,d,e=a.childNodes,f=[];for(c=0;c<e.length;c+=1)d=b.isElement(e[c]),d===!0&&f.push(e[c]);return f},b.attachEventListener=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?(b="on"+b,a.attachEvent(b,c)):a["on"+b]=c},b.detachEventListener=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?(b="on"+b,a.detachEvent(b,c)):a["on"+b]=null},b.createEvent=function(a,c){var d=b.getParameter(c,"detail",null),e=b.getParameter(c,"bubbles",!0),f=b.getParameter(c,"cancelable",!0),g=new CustomEvent(a,{detail:d,bubbles:e,cancelable:f});return void 0===g&&(b.log("createEvent: CustomEvent not available. Using Event instead."),g=new Event(a)),g},b.triggerEvent=function(a,c){var d,e=b.getType(c);"event"===e||"customevent"===e?a.dispatchEvent(c):"string"===e&&(d=b.createEvent(c),a.dispatchEvent(d))},b.getTarget=function(a){return a.relatedTarget||a.fromElement||a.target},b.getTargetID=function(a){return a.target.id},b.cancelEvent=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},b.cancelPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},b.roundNum=function(a,c){var d=0,e=b.getParameter(c,"roundType","regular");return"regular"===e?d=Math.round(a):"up"===e?d=Math.ceil(a):"down"===e&&(d=Math.floor(a)),d},b.getRandomNum=function(a,c,d){var e,f=b.getParameter(d,"rounded",!0);return e=f===!1?Math.random()*(c-a)+a:Math.floor(Math.random()*(c-a+1))+a},b.hasPattern=function(a,b){var c=new RegExp(b,"g"),d=a.match(c),e={};return null!==d?(e.match=!0,e.amount=d.length):e.match=!1,e},b.stripString=function(a,c,d){var e,f,g,h="",i=b.getParameter(d,"mode","all"),j=0;if("all"===i)e=new RegExp(c,"g"),h=a.replace(e,"");else if("first"===i)e=new RegExp(c,""),h=a.replace(e,"");else for(g=0;g<a.length;g+=1)f=a[g],f===c&&(j===i&&(f=f.replace(c,"")),j++),h+=f;return h},b.splitString=function(a,c){var d,e,f,g,h=[],i=b.getParameter(c,"character",",");for(f=b.detectCharacter(a,i),f===!1&&" "!==i?b.log("splitString: Could not split string because character ["+i+"] was not in string.","warn"):d=a.split(" "!==i?i:/[ ,]+/),e=0;e<d.length;e+=1)""!==d[e]&&(g=b.stripWhiteSpace(d[e]),h.push(g));return h},b.convertToCamel=function(a,c){var d,e,f,g=b.getParameter(c,"character","-"),h=b.splitString(a,{character:g});for(d=h[0],f=0;f<h.length;f+=1)0!==f&&(e=h[f].charAt(0).toUpperCase()+h[f].slice(1),d+=e);return d},b.concatCamel=function(a,c){var d=b.getParameter(c,"character","-");return b.convertCase(a.replace(/([A-Z])/g,d+"$1"))},b.detectCharacter=function(a,b){b="\\"+b;var c=!1,d=new RegExp(b,"g"),e=a.match(d);return null!==e&&(c=!0),c},b.stripWhiteSpace=function(a,c){var d,e=b.getParameter(c,"stripAll",!1);return d=e!==!1?a.replace(/\s+/g,""):a.replace(/(^\s+|\s+$)/g,"")},b.stripBrackets=function(a){var b;try{b=a.match(/\[(.*?)\]/)[1]}catch(c){}try{b=a.match(/\((.*?)\)/)[1]}catch(c){}try{b=a.match(/\{(.*?)\}/)[1]}catch(c){}return b},b.convertCase=function(a,c){var d,e=b.getParameter(c,"newCase","lower");return"lower"===e?d=a.toLowerCase():"upper"===e?d=a.toUpperCase():"first"===e&&(d=a.charAt(0).toUpperCase()+a.slice(1)),d},b.trimString=function(a,b,c){return a.substring(b,c)},b.matchHeight=function(a,c,d){{var e,f=b.getParameter(d,f,"normal"),g=b.getDimensions(a);b.getDimensions(c)}"normal"===f?e=g.height:"inner"===f?e=g.innerHeight:"total"===f&&(e=g.totalHeight),b.setStyle(c,"height:"+e+"px")},b.setStyle=function(a,c,d){var e,f,g=b.getParameter(d,"append",!1),h=b.getType(c),i=b.getInlineStyle(a),j="";if("object"===h)if(i===!1&&(g=!1),g===!1){for(e in c)j+=b.concatCamel(e)+":"+c[e]+"; ";j=j.substr(0,j.length-1)}else{for(e in c)i[b.concatCamel(e)]=c[e];for(f in i)j+=b.concatCamel(f)+":"+i[f]+"; ";j=j.substr(0,j.length-1)}else b.log("setStyle: Property must be a string or array.","warn");b.setAttributes(a,{style:j})},b.getInlineStyle=function(a){var c,d,e,f,g,h,i=a.getAttribute("style"),j={};if(null===i)j=!1;else if(h=b.detectCharacter(i,";"),h===!0)for(c=b.splitString(i,{character:";"}),g=0;g<c.length;g+=1)d=b.splitString(c[g],{character:":"}),e=b.stripWhiteSpace(d[0]),f=b.stripWhiteSpace(d[1]),j[e]=f;else d=b.splitString(i,{character:":"}),j[b.stripWhiteSpace(d[0])]=b.stripWhiteSpace(d[1]);return j},b.clearInlineStyle=function(a){b.destroyAttribute(a,"style")},b.getStyleValue=function(a,c){var d,e,f,g,h,i,j,k,l,m;try{"padding"===c?(f=document.defaultView.getComputedStyle(a,null).getPropertyValue("padding-top"),g=document.defaultView.getComputedStyle(a,null).getPropertyValue("padding-right"),h=document.defaultView.getComputedStyle(a,null).getPropertyValue("padding-bottom"),i=document.defaultView.getComputedStyle(a,null).getPropertyValue("padding-left"),e=b.allAreSame([f,g,h,i]),d=e===!0?document.defaultView.getComputedStyle(a,null).getPropertyValue("padding-top"):f+" "+g+" "+h+" "+i):"margin"===c?(j=document.defaultView.getComputedStyle(a,null).getPropertyValue("margin-top"),k=document.defaultView.getComputedStyle(a,null).getPropertyValue("margin-right"),l=document.defaultView.getComputedStyle(a,null).getPropertyValue("margin-bottom"),m=document.defaultView.getComputedStyle(a,null).getPropertyValue("margin-left"),e=b.allAreSame([j,k,l,m]),d=e===!0?document.defaultView.getComputedStyle(a,null).getPropertyValue("margin-top"):j+" "+k+" "+l+" "+m):d=document.defaultView.getComputedStyle(a,null).getPropertyValue(c)}catch(n){d=a.currentStyle[c]}return d},b.useHandCursor=function(a,c){var d=b.getParameter(c,"cursorType","pointer"),e=b.getType(a);"input"!==e&&b.setStyle(a,{cursor:d},{append:!0})},b.useDefaultCursor=function(a){b.setStyle(a,{cursor:"default"})},b.hideElement=function(a,c){var d=b.getParameter(c,"useDisplay",!1),e=b.getStyleValue(a,"visibility"),f=b.getStyleValue(a,"display");("hidden"!==e||"none"!==f)&&(d===!0?b.setStyle(a,{display:"none"}):b.setStyle(a,{visibility:"hidden"}))},b.showElement=function(a,c){var d=b.getParameter(c,"displayType","block"),e=b.getStyleValue(a,"visibility"),f=b.getStyleValue(a,"display");("visible"!==e||"none"===f)&&b.setStyle(a,{display:d,visibility:"visible"})},b.toggleVisibility=function(a){var c=b.getStyleValue(a,"visibility");"visible"===c?b.setStyle(a,{visibility:"hidden"}):b.setStyle(a,{visibility:"visible"})},b.toggleDisplay=function(a,c){var d=b.getParameter(c,"displayType","block"),e=b.getStyleValue(a,"display");"block"===e||"inline"===e||"inline-block"===e||"inherit"===e?b.setStyle(a,{display:"none"}):b.setStyle(a,{display:d,visibility:"visible"})},b.matchHeight=function(a,c,d){var e,f=b.getParameter(d,"type","normal"),g=b.getDimensions(a);"normal"===f?e=g.height:"inner"===f?e=g.innerHeight:"total"===f&&(e=g.totalHeight),b.setStyle(c,{height:e+"px"})},b.getType=function(a){var b;return b=void 0!==a.nodeName?a.nodeName:{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1],b=b.toLowerCase()},b.getInfo=function(a){var c;try{c=JSON.stringify(a)}catch(d){b.log("getInfo: could not stringify.",a,"dir")}return c},b.isMatch=function(a,c,d){var e=!1,f=b.getParameter(d,"useType",!1),g=b.getType(a),h=b.getType(c);return f===!0?g===h&&(e=!0):a===c&&(e=!0),e},b.stringToNum=function(a){return parseInt(a.replace(/[^0-9.]/g,""),10)},b.isObjectEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},b.arrayHasValue=function(a,b){var c,d=!1;for(c=0;c<a.length;c+=1)a[c]===b&&(d=!0);return d},b.queryArray=function(a,b){var c,d=!1,e=[];for(c=0;c<a.length;c+=1)a[c]===b&&e.push(a[c]);return 1===e.length?d=e[0]:e.length>1&&(d=e),d},b.objectHasKey=function(a,b){var c,d=!1;for(c in a)c===b&&(d=!0);return d},b.queryObject=function(a,b){var c,d=!1;for(c in a)c===b&&(d=a[c]);return d},b.getElementIds=function(a){var c,d={};return c=b.convertCase(a.nodeName),d.id=""!==a.id?a.id:"NOT_SET",d["class"]=""!==a.className?a.className:"NOT_SET",d.node=c,d},b.getParameter=function(a,b,c){var d;return d=void 0!==a?void 0===a[b]?c:a[b]:c},b.getExtension=function(a){var c=b.getType(a);return void 0===a?b.log("getExtension: file is undefined. Did you pass a file name to this function?","warn"):"string"!==c&&b.log("getExtension: file needs to be string.","warn"),a.split(".").pop()},b.getKey=function(a){{var b,c,d=a.keyCode,e=a.shiftKey?!0:!1;a.ctrlKey?!0:!1,a.altKey?!0:!1}return c={0:"SINGLE_QUOTE",8:"BACK_SPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSE_BREAK",20:"CAPS_LOCK",27:"ESCAPE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"EQUALS_SIGN",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"LEFT_WINDOW_KEY",92:"RIGHT_WINDOW_KEY",93:"SELECT_KEY",96:"NUMPAD_0",97:"NUMPAD_1",98:"NUMPAD_2",99:"NUMPAD_3",100:"NUMPAD_4",101:"NUMPAD_5",102:"NUMPAD_6",103:"NUMPAD_7",104:"NUMPAD_8",105:"NUMPAD_9",106:"MULTIPLY",107:"ADD",109:"SUBTRACT",110:"DECIMAL_POINT",111:"DIVIDE",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUM_LOCK",145:"SCROLL_LOCK",173:"HYPHEN",186:"SEMI_COLON",187:"EQUALS_SIGN",188:"COMMA",189:"DASH",190:"PERIOD",191:"FORWARD_SLASH",192:"BACK_TICK",219:"OPEN_SQUARE_BRACKET",220:"BACK_SLASH",221:"CLOSE_SQUARE_BRACKET",222:"SINGLE_QUOTE",224:"COMMAND"},b=192===d&&e===!0?"TILDA":49===d&&e===!0?"EXCLAMATION_POINT":50===d&&e===!0?"AT_SIGN":51===d&&e===!0?"HASHTAG":52===d&&e===!0?"DOLLAR_SIGN":53===d&&e===!0?"PERCENT":54===d&&e===!0?"CARET":55===d&&e===!0?"AMPERSAND":56===d&&e===!0?"ASTERISK":57===d&&e===!0?"OPEN_BRACKET":48===d&&e===!0?"CLOSE_BRACKET":173===d&&e===!0?"UNDERSCORE":189===d&&e===!0?"UNDERSCORE":61===d&&e===!0?"PLUS_SIGN":187===d&&e===!0?"PLUS_SIGN":219===d&&e===!0?"OPEN_CURLY_BRACKET":221===d&&e===!0?"CLOSE_CURLY_BRACKET":220===d&&e===!0?"VERTICAL_BAR":186===d&&e===!0?"COLON":222===d&&e===!0?"QUOTATION_MARK":0===d&&e===!0?"QUOTATION_MARK":188===d&&e===!0?"LESS_THAN_SIGN":190===d&&e===!0?"GREATER_THAN_SIGN":191===d&&e===!0?"QUESTION_MARK":c[d]},b.getMousePos=function(a){var c,d,e={},f=b.getTarget(a),g=b.getPosition(f).boundX,h=b.getPosition(f).boundY,i=a.pageX,j=a.pageY,k=a.screenX,l=a.screenY,m=a.clientX,n=a.clientY,o=document.documentElement;try{o.scrollLeft?(c=o.scrollLeft,d=o.scrollTop):document.body&&(c=document.body.scrollLeft,d=document.body.scrollTop),e.innerX=b.roundNum(m-g),e.innerY=b.roundNum(n-h),e.pageX=b.roundNum(i),e.pageY=b.roundNum(j),e.screenX=b.roundNum(k),e.screenY=b.roundNum(l),e.viewportX=b.roundNum(m),e.viewportY=b.roundNum(n),e.offsetX=b.roundNum(c),e.offsetY=b.roundNum(d)}catch(p){b.log("getMousePos error: "+p,"warn")}return e},b.getPosition=function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o={},p=b.getViewportSize(),q=a.parentNode,r=q.getBoundingClientRect(),s=a.getBoundingClientRect(),t=p.width,u=p.height;return d=s.top-r.top,e=r.right-s.right,f=r.bottom-s.bottom,c=s.left-r.left,k=s.top,l=s.right,m=s.bottom,n=s.left,h=s.top,i=t-s.right,j=u-s.bottom,g=s.left,o.x=c,o.y=d,o.top=d,o.right=e,o.bottom=f,o.left=c,o.boundX=n,o.boundY=k,o.boundTop=k,o.boundRight=l,o.boundBottom=m,o.boundLeft=n,o.docX=g,o.docY=h,o.docTop=h,o.docRight=i,o.docBottom=j,o.docLeft=g,o},b.getViewportSize=function(){var b,c,d={};return b=a.innerWidth?a.innerWidth:document.body&&document.body.offsetWidth?document.body.offsetWidth:null,c=a.innerHeight?a.innerHeight:document.body&&document.body.offsetHeight?document.body.offsetHeight:null,d.width=b,d.height=c,d},b.getDocDimensions=function(){var a,b,c={};return a=Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth),b=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),c.width=a,c.height=b,c},b.getDimensions=function(a){var c,d,e,f,g,h,i,j,k,l={},m=b.getStyleValue(a,"width"),n=b.getStyleValue(a,"height"),o=b.getStyleValue(a,"padding-top"),p=b.getStyleValue(a,"padding-right"),q=b.getStyleValue(a,"padding-bottom"),r=b.getStyleValue(a,"padding-left"),s=b.getStyleValue(a,"border"),t=b.getStyleValue(a,"border-top-width"),u=b.getStyleValue(a,"border-right-width"),v=b.getStyleValue(a,"border-bottom-width"),w=b.getStyleValue(a,"border-left-width"),x=(b.getStyleValue(a,"margin"),b.getStyleValue(a,"margin-top")),y=b.getStyleValue(a,"margin-right"),z=b.getStyleValue(a,"margin-bottom"),A=b.getStyleValue(a,"margin-left");return l.width=b.stringToNum(m),l.height=b.stringToNum(n),c=b.stringToNum(r)+b.stringToNum(m)+b.stringToNum(p),l.innerWidth=c,d=b.stringToNum(o)+b.stringToNum(n)+b.stringToNum(q),l.innerHeight=d,e=b.stringToNum(w)+b.stringToNum(r)+b.stringToNum(m)+b.stringToNum(p)+b.stringToNum(u),l.borderWidth=e,f=b.stringToNum(t)+b.stringToNum(o)+b.stringToNum(n)+b.stringToNum(q)+b.stringToNum(v),l.borderHeight=f,l.paddingTop=b.stringToNum(o),l.paddingRight=b.stringToNum(p),l.paddingBottom=b.stringToNum(q),l.paddingLeft=b.stringToNum(r),j=[l.paddingTop,l.paddingRight,l.paddingBottom,l.paddingLeft],b.allAreEqualTo(l.paddingTop,j)===!0&&(l.padding=l.paddingTop),i=b.hasPattern(s,"px").match,i===!0&&(l.border=s),l.borderTop=b.stringToNum(t),l.borderRight=b.stringToNum(u),l.borderBottom=b.stringToNum(v),l.borderLeft=b.stringToNum(w),l.marginTop=b.stringToNum(x),l.marginRight=b.stringToNum(y),l.marginBottom=b.stringToNum(z),l.marginLeft=b.stringToNum(A),k=[l.marginTop,l.marginRight,l.marginBottom,l.marginLeft],b.allAreEqualTo(l.marginTop,k)&&(l.margin=l.marginTop),g=b.stringToNum(A)+b.stringToNum(w)+b.stringToNum(r)+b.stringToNum(m)+b.stringToNum(p)+b.stringToNum(u)+b.stringToNum(y),h=b.stringToNum(x)+b.stringToNum(t)+b.stringToNum(o)+b.stringToNum(n)+b.stringToNum(q)+b.stringToNum(v)+b.stringToNum(z),l.totalWidth=g,l.totalHeight=h,l},b.allAreEqualTo=function(a,b){var c,d=!0;for(c=0;c<b.length;c+=1)b[c]!==a&&(d=!1);return d},b.allAreSame=function(a){var b,c=a[0],d=!0;for(b=0;b<a.length;b+=1)c!==a[b]&&(d=!1);return d},b.createTimer=function(a,b){var c=1e3*a;return setInterval(b,c)},b.stopTimer=function(a){clearInterval(a)},b.createTimeOut=function(a,b){var c=1e3*a;setTimeout(b,c)},b.stopTimeOut=function(a){clearTimeout(a)},b.getSystemInfo=function(){var c,d,e,f,g=a.navigator,h={},i=g.userAgent;for(c=["MSIE","Firefox","Chrome","Safari","Opera"],f=0;f<c.length;f+=1)if(e=b.hasPattern(i,c[f]),e===!0){d=c[f],"MSIE"===d&&(d="IE");break}return h.navigator=g,h.appName=g.appName,h.userAgent=i,h.browser=d,b.log("getSystemInfo: nav: ","dir",g),h},b.getXHR=function(){var c,d,e;if(a.XMLHttpRequest)c=new XMLHttpRequest;else for(d=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp","Microsoft.XMLHTTP"],e=0;e<d.length;e++)try{return c=new ActiveXObject(d[e])}catch(f){b.log("getXHR: Couldn't find the proper XMLHttp version.","warn")}return c},b.loadFile=function(a,c,d){function e(){if(404===j.status&&(h(j.status),j.abort()),!(j.readyState<4)&&200===j.status&&4===j.readyState&&200===j.status){var a;a="json"===i?JSON.parse(j.responseText):"xml"===i?j.responseXML:j.responseText,c(a)}}function f(a){null!==h&&h(a),b.log("loadFile: loadError: There was a load error: "+a,"warn"),j.abort()}var g=b.getParameter(d,"async",!0),h=b.getParameter(d,"onerror",null),i=b.getExtension(a),j=b.getXHR();"json"===i&&j.overrideMimeType("application/json"),b.attachEventListener(j,"readystatechange",e),b.attachEventListener(j,"error",f),j.open("GET",a,g),j.send()},b.xmlToJSON=function(a){var c,d,e=a.getElementsByTagName(a.firstChild.nodeName)[0],f={},g=[];for(c=0;c<e.childNodes.length;c+=1)b.isElement(e.childNodes[c])===!0&&(d=a.getElementsByTagName(e.childNodes[c].nodeName),1===d.length?f[d[0].nodeName]=b.createNodeObject(d[0]):(g.push(b.createNodeObject(d[0])),f[d[0].nodeName]=g));return f},b.createNodeObject=function(a){var c,d,e,f={},g=[];if(a.attributes.length>0)for(d=0;d<a.attributes.length;d+=1)f[a.attributes[d].name]=a.attributes[d].value;if(1===a.childNodes.length)f.content=b.getInnerText(a);else for(c=0;c<a.childNodes.length;c+=1)b.isElement(a.childNodes[c])===!0&&(e=a.getElementsByTagName(a.childNodes[c].nodeName),1===e.length?f[e[0].nodeName]=b.createNodeObject(e[0]):(g.push(b.createNodeObject(a.childNodes[c])),f[e[0].nodeName]=g));return f},b.getURLPath=function(){var a,c,d=location.protocol,e=location.hostname,f=location.pathname,g=b.splitString(f,{character:"/"}),h=location.search,i=location.hash,j="",k={};for(c=0;c<g.length;c+=1)j+="/"+g[c];return a=d+"//"+e+j+h+i,k.protocol=b.stripString(d,{character:":"}),k.host=e,k.path=j,k.pathArray=g,k.fileType=j.split(".").pop(),k.queryString=h,k.hash=i,k.fullURL=a,k},b.getQueryString=function(){var a,c,d,e,f={},g=location.search;if(""===g)b.log("getQueryString: No query string was found.","warn");else for(a=g.split("?").pop(),c=b.splitString(a,{character:"&"}),d=0;d<c.length;d+=1)e=b.splitString(c[d],{character:"="}),f[e[0]]=e[1];return f},b.setQueryString=function(c,d){var e,f,g,h=b.getParameter(d,"append",!1),i="",j=b.getURLPath();if(h===!1)for(f in c)i+=f+"="+c[f]+"&";else{e=b.getQueryString();for(f in c)e[f]=c[f];for(g in e)i+=g+"="+e[g]+"&"}return i="?"+i.substr(0,i.length-1),a.location.href=j.protocol+"://"+j.host+j.path+i+j.hash,i},b.getHash=function(){var c=a.location.hash;return""===c&&b.log("getHash. No hash found!","warn"),c},b.setHash=function(b){a.location.hash=b},b.navigateToURL=function(c,d){var e=b.getParameter(d,"newWindow",!1),f=b.getParameter(d,"focusOnNew",!1);if(e===!1)try{a.location=c}catch(g){a.location.href=c}else f===!1?a.open(c,"_blank"):(a.open(c,"_blank"),a.focus())},b.log=function(a,b,d){c===!0&&("warn"===b?console.warn(a):"error"===b?console.error(a):"dir"===b?(console.group(a),console.dir(d),console.groupEnd()):console.log(a))},b.logGroup=function(a,b,d){d=d||"nodes";var e;if(c===!0){console.group(a);for(e in b)console.log(e+" : "+b[e]);console.groupEnd()}},a.Spektral=b}(window);